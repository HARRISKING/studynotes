<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>事件代理test</title>
    <style media="screen">
      .content{
        border: 1px solid #ccc;
        width:300px;
        height:300px;
      }
      .active1{
        background-color: blue;
      }
      .active2{
        background-color: red;
      }
    </style>

  </head>
  <body>
    <div class="content"></div>
    <button class="btn1">blue</button>
    <button class="btn2">red</button>

    <script type="text/javascript">
    var btn1 = document.querySelector('.btn1');
    var btn2 = document.querySelector('.btn2');
    var cot = document.querySelector('.content');

    btn1.addEventListener('click',function(){
        removeClass(cot,'active2')
        addClass(cot,'active1')
    })
    btn2.addEventListener('click',function(){
        removeClass(cot,'active1')
        addClass(cot,'active2')
    })



    function hasClass(el,cls){
       var reg = new RegExp('(\\b)' + cls + '(\\b)','g');
       return !!reg.test(el.className);
    };
    function addClass(el,cls){
      if(!hasClass(el,cls)){
        el.className += " " + cls;
      }
    };
    function removeClass(el,cls) {
      if(hasClass(el,cls)){
        el.className = el.className.replace(cls,' ').replace(/\s{2,}/g,' ')
      }
    };
    </script>
  </body>
</html>
